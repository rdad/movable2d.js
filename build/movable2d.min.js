// Movable2d.js r0 - http://github.com/rdad/movable2d.js
(function(e){var c=function(){this.add_data_to="";this.container=document.body};c.prototype={set:function(a){this.add_data_to=a.add_data_to?a.add_data_to:"";this.container=a.container?a.container:document.body;return this},apply:function(a){if(a){var c,b,f=!1,h=0,i=0;b=Array.prototype.slice.call(document.defaultView.getComputedStyle(document.body,"")).join("").match(/(?:-(moz|webkit|ms|khtml)-)/);var g=b[0],d=b[1];""!=this.add_data_to&&(c=a,a={});a.is_movable=!0;"undefined"==typeof a.elem&&(a.elem=
document.createElement("div"));a.elem.style.cssText="position:absolute; "+g+"backface-visibility: hidden; "+g+"transform: translateZ(0);";this.container.appendChild(a.elem);var e=a;a.elem.addEventListener(d+"TransitionEnd",function(a){e.on_animation_end(a)},!1);a.x=0;a.y=0;a.r=0;a.s=1;b=a.prototype?a.prototype:a;b.position=function(a,b){this.x=a;this.y=b;this.render();return this};b.rotation=function(a){this.r=a;this.render();return this};b.scale=function(a){this.s=a;this.render();return this};b.render=
function(){this.elem.style[d+"Transform"]="translate3d("+this.x+"px,"+this.y+"px, 0) rotateZ("+this.r+"deg) scale3d("+this.s+","+this.s+",0)"};b.move_to=function(a,b,j,c){this.x=a;this.y=b;this.on_animation_start(j,c);this.render();return this};b.transform=function(a,b,c,d){this.r=a;this.s=b;this.on_animation_start(c,d);this.render();return this};b.animate=function(a,b,c,d,e,f){this.x=a;this.y=b;this.r=c;this.s=d;this.on_animation_start(e,f);this.render();return this};b.direction_to=function(a,b,
c){f=true;h=a;i=b;this.step_direction();this.on_animation_start(1E3/c,"linear");this.render();return this};b.direction_stop=function(){f=false;return this};b.step_direction=function(){this.x=this.x+h;this.y=this.y+i;return this};b.on_animation_start=function(a,b){this.elem.style[d+"Transition"]=g+"transform "+(a?a+"ms":"1s")+" "+(b?b:"ease-in-out")};b.on_animation_end=function(){if(f==true){this.step_direction();this.render()}else this.elem.style[d+"Transition"]=null};""!=this.add_data_to&&(c[this.add_data_to]=
a);return this}}};e.movable2d=new c})(window);

